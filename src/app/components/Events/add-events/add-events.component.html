<div class="row align-items-center">
    <div>
        <h1 class="mb-3">Add Event</h1>
    </div>
</div>
<div class="row">
    <div class="col-sm-5" >
        <div class="row align-items-center">
            <div>
                <h3 class="mb-3">Event Details</h3>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <form #form="ngForm">
                    <div class="mt-2">
                        <label for="name" class="form-label">Name</label>
                        <input type="text" id="name" name="name" class="form-control" [(ngModel)]="event.name" #name="ngModel" required />
                        <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                            Name is required
                        </div>
                    </div>
                    <div class="mt-2">
                        <label for="description" class="form-label">Description</label>
                        <textarea id="description" name="description" class="form-control" rows="3" [(ngModel)]="event.description"></textarea>
                    </div>
                    <div class="mt-2">
                        <label for="venue" class="form-label">Venue</label>
                        <input type="text" id="venue" name="venue" class="form-control" [(ngModel)]="event.venue" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_host" class="form-label">Show Host</label>
                        <input type="text" id="show_host" name="show_host" class="form-control" [(ngModel)]="event.show_host" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_chair" class="form-label">Show Chair</label>
                        <input type="text" id="show_chair" name="show_chair" class="form-control" [(ngModel)]="event.show_chair" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_type" class="form-label">Show Type</label>
                        <input type="text" id="show_type" name="show_type" class="form-control" [(ngModel)]="event.show_type" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_date_start" class="form-label">Start Date</label>
                        <input type="date" id="show_date_start" name="show_date_start" class="form-control" [(ngModel)]="event.show_date_start" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_date_end" class="form-label">End Date</label>
                        <input type="date" id="show_date_end" name="show_date_end" class="form-control" [(ngModel)]="event.show_date_end" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_head_judge" class="form-label">Head Judge</label>
                        <input type="text" id="show_head_judge" name="show_head_judge" class="form-control" [(ngModel)]="event.show_head_judge" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_judges" class="form-label">Judges</label>
                        <input type="text" id="show_judges" name="show_judges" class="form-control" [(ngModel)]="event.show_judges" #name="ngModel"/>
                    </div>
                    <div class="mt-2">
                        <label for="show_judge_apprentices" class="form-label">Apprentices</label>
                        <input type="text" id="show_judge_apprentices" name="show_judge_apprentices" class="form-control" [(ngModel)]="event.show_judge_apprentices" #name="ngModel"/>
                    </div>
                    <div class="mt-3">
                        <a routerLink="/maintain-events" class="btn btn-outline-primary mx-2 mt-1"><i class="bi bi-arrow-left-circle"></i> Back</a>
                        <a (click)="addEvent()" class="btn btn-primary mx-2 mt-1" [class.disabled]="form.invalid || event.fish_classifications.length == 0">Submit</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-sm-7">
        <div class="row align-items-center">
            <div>
                <h3 class="mb-3">Fish Classification</h3>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col-2">
                <label for="classification" class="form-label">Class</label>
                <input type="text" id="classification" name="classification" class="form-control" [(ngModel)]="fish_classification.fish_class" required/>             
            </div>
            <div class="col-2">
                <label for="subclass" class="form-label">Subclass</label>
                <input type="text" id="subclass" name="subclass" class="form-control" [(ngModel)]="fish_classification.fish_subclass" required/>                    
            </div>
            <div class="col-5">
                <label for="description" class="form-label">Description</label>
                <input type="text" id="description" name="description" [(ngModel)]="fish_classification.description" class="form-control" required/>                    
            </div>
            <div class="col-2">
                <label for="fee" class="form-label">Fee</label>
                <input type="number" id="fee" name="fee" class="form-control" min="0.00" [(ngModel)]="fish_classification.fee" required/>                    
            </div>
            <div class="col-1 align-self-end">
                <a class="btn btn-primary" (click)="addClassification()" ><i class="bi bi-plus-lg"></i></a>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col">
                <table class="table table-hover">
                    <thead class="table-light">
                        <th>#</th>
                        <th>Class</th>
                        <th>Subclass</th>
                        <th>Description</th>
                        <th>Fee $</th>
                        <th></th>
                    </thead>
                    <tbody>                            
                        <tr *ngFor="let r of event.fish_classifications; let i = index">
                            <th>{{ i + 1 }}</th>
                            <td>{{ r.fish_class }}</td>
                            <td>{{ r.fish_subclass }}</td>
                            <td>{{ r.description }}</td>
                            <td>{{ r.fee | number: '1.2-2' }}</td>
                            <td>
                                <a class="btn btn-danger" (click)="deleteClassification(i)"><i class="bi bi-x"></i></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>